import{c as w,a as y,j as e,L as g,H as S,r as N,t as f}from"./app-CT47ILJI.js";import{a as k,A as P}from"./app-layout-BMZ9CmNy.js";import{T as u,a as i,d as T,e as l,c as L,b as A}from"./table-C46mNI16.js";import{B as p}from"./button-V-cXib9I.js";import{B as C}from"./badge-C4WMc8Dq.js";import{S as b}from"./star-BMsRt40I.js";import{G as $}from"./github-S0ImZJA-.js";import{M as z}from"./monitor-DnZYadmL.js";import{T as B}from"./trash-2-Cn2hmZnM.js";import{P as E}from"./plus-Cb5BP1V0.js";import"./app-B1pgpXbD.js";import"./index-BBLmV1ac.js";import"./index-CKfQmKVt.js";import"./dropdown-menu-CEz_wj6_.js";import"./index-Dab6gz3L.js";import"./index-CfmLv9Gh.js";import"./index-Bk-WXgsu.js";import"./index-DjAr77JR.js";import"./index-DoxuMrQ9.js";import"./index-GxQaF969.js";import"./index-03KIbuOI.js";import"./index-WkMJIbB8.js";import"./x-CJ0vGsWX.js";import"./index-CI1H_1mM.js";import"./index-BcuDZeAv.js";import"./index-i-te9gNU.js";import"./index-DIUEHrJW.js";import"./tooltip-fYzdqs-y.js";import"./index-DMvN5wxA.js";import"./avatar-DTAbzQ2B.js";import"./index-CNP4AJTI.js";import"./app-logo-icon-TmJ5cCcM.js";import"./chevron-right-BdxBx5C8.js";const G=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]],H=w("Pencil",G),M=[{title:"Dashboard",href:"/dashboard"},{title:"Mes Projets",href:"/dashboard/projects"}];function ye(r){const s=y.c(9),{projects:j}=r,o=j.data||j,_=I,v=D;let c;s[0]===Symbol.for("react.memo_cache_sentinel")?(c=e.jsx(S,{title:"Gestion des projets"}),s[0]=c):c=s[0];let n;s[1]===Symbol.for("react.memo_cache_sentinel")?(n=e.jsxs("div",{children:[e.jsx("h1",{className:"text-2xl font-bold tracking-tight",children:"Portfolio"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:"Gère tes réalisations Dev & DevOps."})]}),s[1]=n):n=s[1];let d;s[2]===Symbol.for("react.memo_cache_sentinel")?(d=k.project.create(),s[2]=d):d=s[2];let m;s[3]===Symbol.for("react.memo_cache_sentinel")?(m=e.jsxs("div",{className:"flex flex-row justify-between items-center",children:[n,e.jsx(p,{asChild:!0,className:"rounded-xl gap-2",children:e.jsxs(g,{href:d,prefetch:!0,children:[e.jsx(E,{className:"h-4 w-4"})," Ajouter un projet"]})})]}),s[3]=m):m=s[3];let x;s[4]===Symbol.for("react.memo_cache_sentinel")?(x=e.jsx(T,{className:"bg-muted/50",children:e.jsxs(u,{children:[e.jsx(l,{children:"Projet"}),e.jsx(l,{children:"Catégorie"}),e.jsx(l,{className:"hidden md:table-cell text-center",children:"Stack"}),e.jsx(l,{children:"Statut"}),e.jsx(l,{className:"text-right",children:"Actions"})]})}),s[4]=x):x=s[4];let a;s[5]!==o?(a=o.length>0?o.map(t=>e.jsxs(u,{className:"group",children:[e.jsx(i,{children:e.jsxs("div",{className:"flex flex-col gap-1",children:[e.jsxs("div",{className:"flex items-center gap-2 font-bold uppercase text-xs tracking-wider",children:[t.title,t.is_featured&&e.jsx(b,{className:"h-3 w-3 fill-yellow-500 text-yellow-500"})]}),e.jsxs("div",{className:"flex gap-3 text-[10px] text-muted-foreground",children:[t.github_url&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx($,{className:"h-3 w-3"})," Repo"]}),t.live_url&&e.jsxs("span",{className:"flex items-center gap-1",children:[e.jsx(z,{className:"h-3 w-3"})," Live"]})]})]})}),e.jsx(i,{children:e.jsx(C,{variant:"secondary",className:"text-[10px] uppercase font-bold px-2 py-0",children:t.category})}),e.jsx(i,{className:"hidden md:table-cell",children:e.jsx("div",{className:"flex flex-wrap justify-center gap-1 max-w-[250px] mx-auto",children:t.stack?.map(R)})}),e.jsx(i,{children:e.jsx("div",{className:`h-2.5 w-2.5 rounded-full ${t.status==="published"?"bg-green-500 shadow-[0_0_8px_rgba(34,197,94,0.5)]":t.status==="archived"?"bg-red-500 shadow-[0_0_8px_rgba(239,68,68,0.5)]":"bg-yellow-500 shadow-[0_0_8px_rgba(234,179,8,0.3)]"}`})}),e.jsx(i,{className:"text-right",children:e.jsxs("div",{className:"flex justify-end gap-1",children:[e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>v(t.id),children:e.jsx(b,{className:`h-4 w-4 ${t.is_featured?"fill-yellow-500 text-yellow-500":""}`})}),e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8",asChild:!0,children:e.jsx(g,{href:`/dashboard/project/${t.id}/edit`,children:e.jsx(H,{className:"h-4 w-4 text-muted-foreground"})})}),e.jsx(p,{variant:"ghost",size:"icon",className:"h-8 w-8 text-destructive hover:text-destructive hover:bg-destructive/10",onClick:()=>_(t.id),children:e.jsx(B,{className:"h-4 w-4"})})]})})]},t.id)):e.jsx(u,{children:e.jsx(i,{colSpan:5,className:"h-32 text-center text-muted-foreground italic",children:"Aucun projet répertorié."})}),s[5]=o,s[6]=a):a=s[6];let h;return s[7]!==a?(h=e.jsxs(P,{breadcrumbs:M,children:[c,e.jsxs("div",{className:"p-6 space-y-6",children:[m,e.jsx("div",{className:"border rounded-xl bg-card overflow-hidden",children:e.jsxs(L,{children:[x,e.jsx(A,{children:a})]})})]})]}),s[7]=a,s[8]=h):h=s[8],h}function R(r){return e.jsx("span",{className:"text-[9px] bg-muted px-1.5 py-0.5 rounded text-muted-foreground font-mono",children:r},r)}function D(r){N.patch(`/dashboard/project/${r}/toggle-featured`,{},{preserveScroll:!0,onSuccess:F})}function F(){return f.success("Statut mis à jour")}function I(r){confirm("Es-tu sûr de vouloir supprimer ce projet ?")&&N.delete(`/dashboard/project/${r}`,{onSuccess:q,onError:O})}function O(){return f.error("Erreur lors de la suppression")}function q(){return f.success("Projet supprimé")}export{ye as default};
