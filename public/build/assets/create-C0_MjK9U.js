import{a as ee,b as te,j as t,L as se,r as re,t as G,H as le,d as oe}from"./app-CT47ILJI.js";import{a as V,A as ae}from"./app-layout-BMZ9CmNy.js";import{a as ne,u as ie,F as l,b as ce,A as me,c as o,e as a,f as n,d as H}from"./zod-schemas-DPVI0CFu.js";import{I as z}from"./input-CK2tHTXs.js";import{B as J}from"./button-V-cXib9I.js";import de from"./tags-selector-0t47Mly3.js";import xe from"./picture-uploader-C4DQEo6h.js";import{C as P,c as B,a as U,b as M}from"./card-DWwdDEDf.js";import{S as K,a as Q,b as W,c as X,f as i}from"./select-Cf_DVse9.js";import pe from"./markdown-editor-D2h4HkO8.js";import fe from"./thumbnail-uploader-DeoXMK7f.js";import{PublicationDatepicker as ue}from"./publication-datepicker-C_X_SULU.js";import{S as he}from"./sparkles-BjNidtKM.js";import{S as je}from"./send-CBdG87kM.js";import{S as be}from"./settings-2-DgvolklN.js";import{I as ge}from"./image-CPQ0pDHC.js";import{E as _e}from"./eye-D9bfhCYY.js";import{C as Ne}from"./clock-CNaNOSO8.js";import"./app-B1pgpXbD.js";import"./index-BBLmV1ac.js";import"./index-CKfQmKVt.js";import"./dropdown-menu-CEz_wj6_.js";import"./index-Dab6gz3L.js";import"./index-CfmLv9Gh.js";import"./index-Bk-WXgsu.js";import"./index-DjAr77JR.js";import"./index-DoxuMrQ9.js";import"./index-GxQaF969.js";import"./index-03KIbuOI.js";import"./index-WkMJIbB8.js";import"./x-CJ0vGsWX.js";import"./index-CI1H_1mM.js";import"./index-BcuDZeAv.js";import"./index-i-te9gNU.js";import"./index-DIUEHrJW.js";import"./tooltip-fYzdqs-y.js";import"./index-DMvN5wxA.js";import"./avatar-DTAbzQ2B.js";import"./index-CNP4AJTI.js";import"./app-logo-icon-TmJ5cCcM.js";import"./chevron-right-BdxBx5C8.js";import"./label-BgzqSpwF.js";import"./badge-C4WMc8Dq.js";import"./index-Dmil4ktD.js";import"./index-DHNiJ-FK.js";import"./chevron-down-B5B9-qU3.js";import"./check-tn_2MNYq.js";import"./copy-B5OUb-_E.js";import"./cloud-upload-Dv2BmHjn.js";import"./tabs-DcKqyrrr.js";import"./textarea-DsSmLmTx.js";import"./index-B6ayWrzx.js";import"./pen-line-CN4c2Gxf.js";import"./trash-2-Cn2hmZnM.js";import"./chevron-left-Drg_6mLx.js";import"./calendar-CRTr2qcl.js";function Vt(){const e=ee.c(49),[s,O]=te.useState(!1);let N;e[0]===Symbol.for("react.memo_cache_sentinel")?(N={title:"Dashboard",href:V.dashboard().url},e[0]=N):N=e[0];let v;e[1]===Symbol.for("react.memo_cache_sentinel")?(v={title:"Articles",href:V.post.list().url},e[1]=v):v=e[1];let S;e[2]===Symbol.for("react.memo_cache_sentinel")?(S=[N,v,{title:"Nouvel Article",href:V.post.create().url}],e[2]=S):S=e[2];const Y=S;let y;e[3]===Symbol.for("react.memo_cache_sentinel")?(y=ne(me),e[3]=y):y=e[3];let w;e[4]===Symbol.for("react.memo_cache_sentinel")?(w={resolver:y,defaultValues:{title:"",description:"",content:"",tags:[],image:[],status:"draft",reading_time:"",thumbnail:"",published_at:"",category:""}},e[4]=w):w=e[4];const r=ie(w);let C;e[5]!==r?(C=function(Z){O(!0),re.post("/dashboard/store",Z,{onSuccess:()=>{r.reset(),G.success("L'article a été publié avec succès !")},onError:$=>{Object.keys($).forEach(q=>{r.setError(q,{type:"manual",message:$[q]})}),G.error("Erreur lors de la publication")},onFinish:()=>O(!1)})},e[5]=r,e[6]=C):C=e[6];const R=C;let k;e[7]===Symbol.for("react.memo_cache_sentinel")?(k=t.jsx(le,{title:"Créer un article"}),e[7]=k):k=e[7];let c;e[8]!==r||e[9]!==R?(c=r.handleSubmit(R),e[8]=r,e[9]=R,e[10]=c):c=e[10];let E;e[11]===Symbol.for("react.memo_cache_sentinel")?(E=t.jsxs("h1",{className:"text-2xl font-bold tracking-tight flex items-center gap-2",children:[t.jsx(he,{className:"h-5 w-5 text-yellow-500"}),"Rédaction"]}),e[11]=E):E=e[11];let F;e[12]===Symbol.for("react.memo_cache_sentinel")?(F=t.jsxs("div",{children:[E,t.jsxs("p",{className:"text-sm text-muted-foreground italic",children:["Enregistré localement à ",new Date().toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})]})]}),e[12]=F):F=e[12];let I;e[13]===Symbol.for("react.memo_cache_sentinel")?(I=t.jsx(J,{variant:"ghost",asChild:!0,className:"hidden sm:flex",children:t.jsx(se,{href:V.post.list(),children:"Annuler"})}),e[13]=I):I=e[13];let m;e[14]!==s?(m=s?t.jsx(oe,{className:"mr-2 h-4 w-4 animate-spin"}):t.jsx(je,{className:"mr-2 h-4 w-4"}),e[14]=s,e[15]=m):m=e[15];let d;e[16]!==s||e[17]!==m?(d=t.jsxs("div",{className:"flex flex-col sm:flex-row justify-between items-start sm:items-center gap-4 bg-background/95 backdrop-blur sticky top-0 z-10 py-4 border-b",children:[F,t.jsxs("div",{className:"flex items-center gap-3 w-full sm:w-auto",children:[I,t.jsxs(J,{type:"submit",className:"flex-1 sm:flex-none shadow-lg shadow-primary/20",disabled:s,children:[m,"Publier l'article"]})]})]}),e[16]=s,e[17]=m,e[18]=d):d=e[18];let x;e[19]!==r.control?(x=t.jsxs("div",{className:"space-y-6",children:[t.jsx(l,{control:r.control,name:"title",render:Ae}),t.jsx(l,{control:r.control,name:"description",render:Ie})]}),e[19]=r.control,e[20]=x):x=e[20];let p;e[21]!==r.control?(p=t.jsx(P,{className:"border-none shadow-none bg-transparent",children:t.jsx(B,{className:"p-0",children:t.jsx(l,{control:r.control,name:"content",render:Fe})})}),e[21]=r.control,e[22]=p):p=e[22];let f;e[23]!==x||e[24]!==p?(f=t.jsxs("div",{className:"lg:col-span-8 space-y-10",children:[x,p]}),e[23]=x,e[24]=p,e[25]=f):f=e[25];let A;e[26]===Symbol.for("react.memo_cache_sentinel")?(A=t.jsx(U,{className:"pb-3",children:t.jsxs(M,{className:"text-sm font-bold flex items-center gap-2",children:[t.jsx(be,{className:"h-4 w-4"})," Configuration"]})}),e[26]=A):A=e[26];let u;e[27]!==r.control?(u=t.jsxs(P,{className:"border-none bg-muted/30 shadow-none",children:[A,t.jsxs(B,{className:"space-y-4",children:[t.jsx(l,{control:r.control,name:"status",render:Ee}),t.jsx(l,{control:r.control,name:"reading_time",render:ke}),t.jsx(l,{control:r.control,name:"published_at",render:Ce}),t.jsx(l,{control:r.control,name:"tags",render:we}),t.jsx(l,{control:r.control,name:"category",render:ye})]})]}),e[27]=r.control,e[28]=u):u=e[28];let L;e[29]===Symbol.for("react.memo_cache_sentinel")?(L=t.jsx(U,{className:"pb-3",children:t.jsxs(M,{className:"text-sm font-bold flex items-center gap-2",children:[t.jsx(ge,{className:"h-4 w-4 text-blue-500"})," Image de couverture"]})}),e[29]=L):L=e[29];let h;e[30]!==r.control?(h=t.jsxs(P,{className:"border-none bg-muted/30 shadow-none",children:[L,t.jsx(B,{children:t.jsx(l,{control:r.control,name:"thumbnail",render:Se})})]}),e[30]=r.control,e[31]=h):h=e[31];let T;e[32]===Symbol.for("react.memo_cache_sentinel")?(T=t.jsx(U,{className:"pb-3",children:t.jsxs(M,{className:"text-sm font-bold flex items-center gap-2",children:[t.jsx(_e,{className:"h-4 w-4"})," Images de l'article"]})}),e[32]=T):T=e[32];let j;e[33]!==r.control?(j=t.jsxs(P,{className:"border-none bg-muted/30 shadow-none",children:[T,t.jsx(B,{children:t.jsx(l,{control:r.control,name:"image",render:ve})})]}),e[33]=r.control,e[34]=j):j=e[34];let b;e[35]!==u||e[36]!==h||e[37]!==j?(b=t.jsx("div",{className:"lg:col-span-4 space-y-6",children:t.jsxs("div",{className:"sticky top-24 space-y-6",children:[u,h,j]})}),e[35]=u,e[36]=h,e[37]=j,e[38]=b):b=e[38];let g;e[39]!==f||e[40]!==b?(g=t.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-12 gap-10",children:[f,b]}),e[39]=f,e[40]=b,e[41]=g):g=e[41];let _;e[42]!==d||e[43]!==g||e[44]!==c?(_=t.jsxs("form",{onSubmit:c,className:"flex flex-col gap-8",children:[d,g]}),e[42]=d,e[43]=g,e[44]=c,e[45]=_):_=e[45];let D;return e[46]!==r||e[47]!==_?(D=t.jsxs(ae,{breadcrumbs:Y,children:[k,t.jsx("div",{className:"max-w-[1400px] mx-auto py-8 px-4 sm:px-6 lg:px-8",children:t.jsx(ce,{...r,children:_})})]}),e[46]=r,e[47]=_,e[48]=D):D=e[48],D}function ve(e){const{field:s}=e;return t.jsxs(o,{children:[t.jsx(a,{children:t.jsx(xe,{value:s.value,onChange:s.onChange})}),t.jsx(n,{})]})}function Se(e){const{field:s}=e;return t.jsxs(o,{children:[t.jsx(a,{children:t.jsx(fe,{value:s.value,onChange:s.onChange})}),t.jsx(n,{})]})}function ye(e){const{field:s}=e;return t.jsxs(o,{children:[t.jsx(H,{className:"text-[10px] uppercase font-bold text-muted-foreground",children:"Catégorie de l'article"}),t.jsxs(K,{onValueChange:s.onChange,defaultValue:s.value,children:[t.jsx(a,{children:t.jsx(Q,{className:"bg-background",children:t.jsx(W,{placeholder:"Choisir une catégorie"})})}),t.jsxs(X,{children:[t.jsx(i,{value:"web",children:"Developpement web"}),t.jsx(i,{value:"ia",children:"Intéligence artificiel"}),t.jsx(i,{value:"data",children:"Data"}),t.jsx(i,{value:"devops",children:"Devops"}),t.jsx(i,{value:"sys",children:"Admin System"}),t.jsx(i,{value:"nodef",children:"Non définie"})]})]}),t.jsx(n,{})]})}function we(e){const{field:s}=e;return t.jsxs(o,{children:[t.jsx(H,{className:"text-[10px] uppercase font-bold text-muted-foreground",children:"Tags de l'article"}),t.jsx(a,{children:t.jsx(de,{field:s})}),t.jsx(n,{})]})}function Ce(e){const{field:s}=e;return t.jsxs(o,{children:[t.jsx(a,{children:t.jsx(ue,{field:s})}),t.jsx(n,{})]})}function ke(e){const{field:s}=e;return t.jsxs(o,{children:[t.jsx(H,{className:"text-[10px] uppercase font-bold text-muted-foreground",children:"Temps de lecture"}),t.jsx(a,{children:t.jsxs("div",{className:"relative",children:[t.jsx(Ne,{className:"absolute left-3 top-2.5 h-4 w-4 text-muted-foreground"}),t.jsx(z,{className:"pl-9 bg-background",placeholder:"Ex: 5 min",...s})]})}),t.jsx(n,{})]})}function Ee(e){const{field:s}=e;return t.jsxs(o,{children:[t.jsx(H,{className:"text-[10px] uppercase font-bold text-muted-foreground",children:"Statut"}),t.jsxs(K,{onValueChange:s.onChange,defaultValue:s.value,children:[t.jsx(a,{children:t.jsx(Q,{className:"bg-background",children:t.jsx(W,{placeholder:"Choisir un statut"})})}),t.jsxs(X,{children:[t.jsx(i,{value:"draft",children:"Brouillon (Draft)"}),t.jsx(i,{value:"published",children:"Publié (Public)"}),t.jsx(i,{value:"archived",children:"Archivé"})]})]}),t.jsx(n,{})]})}function Fe(e){const{field:s}=e;return t.jsxs(o,{children:[t.jsx(a,{children:t.jsx("div",{className:"rounded-xl border bg-card shadow-sm overflow-hidden",children:t.jsx(pe,{field:s})})}),t.jsx(n,{})]})}function Ie(e){const{field:s}=e;return t.jsxs(o,{children:[t.jsx(a,{children:t.jsx(z,{className:"text-xl text-muted-foreground border-none bg-transparent shadow-none focus-visible:ring-0 p-0 h-auto placeholder:text-muted-foreground/30",placeholder:"Une accroche courte et percutante...",...s})}),t.jsx(n,{})]})}function Ae(e){const{field:s}=e;return t.jsxs(o,{children:[t.jsx(a,{children:t.jsx(z,{className:"text-2xl md:text-3xl font-black border-none bg-transparent shadow-none focus-visible:ring-0 p-0 h-auto placeholder:text-muted-foreground/30",placeholder:"Titre de l'article...",...s})}),t.jsx(n,{})]})}export{Vt as default};
